import { useState } from "react";
import Button from "./Button";
import { EditButton } from "./EditButton";
import { Form, FormProps, Inputs } from "./forms/Form";
import { DashboardButton } from "./DashboardButton";
import { ValWindow } from "./ValWindow";
import User from "./User";

type ValWindow = {
  position: {
    left: number;
    top: number;
  };
} & FormProps;

export type ValOverlayProps = {
  editMode: boolean;
  setEditMode: (editMode: boolean) => void;
  showDashboard: boolean;
  setShowDashboard: (editMode: boolean) => void;
  valWindow?: ValWindow;
  closeValWindow: () => void;
};

export function ValOverlay({
  editMode,
  setEditMode,
  showDashboard,
  setShowDashboard,
  valWindow,
  closeValWindow,
}: ValOverlayProps) {
  return (
    <>
      {editMode && (
        <div className="fixed w-full bg-base top-0 flex flex-row justify-between py-[14px] pl-[15px] pr-[11px] z-20 border-b-[1px] border-dark-gray">
          <div className="bg-white text-warm-black flex justify-center items-center px-4">
            LOGO HER
          </div>
          <div className="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2">
            <DashboardButton
              expanded={showDashboard}
              onClick={() => setShowDashboard(!showDashboard)}
            >
              Dashboard
            </DashboardButton>
          </div>
          <div className="flex flex-row gap-[42px]">
            <User name="Fredrik Ekholdt" />
            <Button onClick={() => setEditMode(false)}>Done</Button>
          </div>
        </div>
      )}
      <div className="fixed -translate-x-1/2 left-1/2 bottom-4">
        <EditButton
          onClick={() => {
            setEditMode(!editMode);
          }}
        />
      </div>
      {editMode && valWindow && (
        <ValWindow onClose={closeValWindow} position={valWindow.position}>
          <Form onSubmit={valWindow.onSubmit} inputs={valWindow.inputs} />
        </ValWindow>
      )}
    </>
  );
}

<div className="fixed w-full bg-base top-0 flex flex-row justify-between py-[14px] pl-[15px] pr-[11px]">
  <div>
    <svg
      width="22"
      height="32"
      viewBox="0 0 22 32"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <rect x="0.5" y="0.5" width="21" height="31" fill="white" />
      <path
        d="M9.30335 26.6711L4 6H6.62347L10.1214 20.045C10.3659 21.0266 10.5728 21.9422 10.742 22.7917C10.9113 23.6223 11.0335 24.2547 11.1088 24.6889C11.184 24.2547 11.2968 23.6223 11.4473 22.7917C11.6165 21.9422 11.8234 21.0266 12.0679 20.045L15.5376 6H18.1047L12.7731 26.6711H9.30335Z"
        fill="#1A1A1A"
      />
      <rect x="0.5" y="0.5" width="21" height="31" stroke="white" />
    </svg>
  </div>
  <div></div>
  <div className="flex flex-row gap-4">
    <svg
      width="134"
      height="32"
      viewBox="0 0 134 32"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <rect width="134" height="32" fill="#1A1A1A" />
      <rect width="32" height="32" rx="16" fill="#D6D6D6" />
      <path
        d="M8.65547 21V10.78H14.6755V11.928H9.88747V15.316H14.3115V16.464H9.91547V21H8.65547ZM17.68 21V10.78H23.56V11.928H18.926V15.092H23.07V16.212H18.926V19.852H23.56V21H17.68Z"
        fill="black"
      />
      <path
        d="M42.2979 10.7578V20H41.0728V10.7578H42.2979ZM46.1699 14.9155V15.9185H42.0312V14.9155H46.1699ZM46.7983 10.7578V11.7607H42.0312V10.7578H46.7983ZM49.6098 14.2109V20H48.4355V13.1318H49.5781L49.6098 14.2109ZM51.7554 13.0938L51.749 14.1855C51.6517 14.1644 51.5586 14.1517 51.4697 14.1475C51.3851 14.139 51.2877 14.1348 51.1777 14.1348C50.9069 14.1348 50.6678 14.1771 50.4604 14.2617C50.2531 14.3464 50.0775 14.4648 49.9336 14.6172C49.7897 14.7695 49.6754 14.9515 49.5908 15.1631C49.5104 15.3704 49.4575 15.599 49.4321 15.8486L49.102 16.0391C49.102 15.6243 49.1422 15.235 49.2226 14.8711C49.3073 14.5072 49.4363 14.1855 49.6098 13.9062C49.7833 13.6227 50.0034 13.4027 50.27 13.2461C50.5408 13.0853 50.8624 13.0049 51.2348 13.0049C51.3195 13.0049 51.4168 13.0155 51.5268 13.0366C51.6369 13.0535 51.713 13.0726 51.7554 13.0938ZM56.0839 20.127C55.6058 20.127 55.172 20.0465 54.7827 19.8857C54.3976 19.7207 54.0654 19.4901 53.7861 19.1938C53.511 18.8976 53.2994 18.5464 53.1513 18.1401C53.0032 17.7339 52.9292 17.2896 52.9292 16.8071V16.5405C52.9292 15.9819 53.0117 15.4847 53.1767 15.0488C53.3418 14.6087 53.566 14.2363 53.8496 13.9316C54.1331 13.627 54.4547 13.3963 54.8144 13.2397C55.1741 13.0832 55.5465 13.0049 55.9316 13.0049C56.4225 13.0049 56.8457 13.0895 57.2011 13.2588C57.5608 13.4281 57.8549 13.665 58.0835 13.9697C58.312 14.2702 58.4812 14.6257 58.5913 15.0361C58.7013 15.4424 58.7563 15.8867 58.7563 16.3691V16.896H53.6274V15.9375H57.582V15.8486C57.5651 15.5439 57.5016 15.2477 57.3916 14.96C57.2858 14.6722 57.1165 14.4352 56.8837 14.249C56.651 14.0628 56.3336 13.9697 55.9316 13.9697C55.665 13.9697 55.4196 14.0269 55.1953 14.1411C54.971 14.2511 54.7784 14.4162 54.6176 14.6362C54.4568 14.8563 54.332 15.125 54.2431 15.4424C54.1543 15.7598 54.1098 16.1258 54.1098 16.5405V16.8071C54.1098 17.133 54.1543 17.4398 54.2431 17.7275C54.3362 18.0111 54.4695 18.2607 54.643 18.4766C54.8208 18.6924 55.0345 18.8617 55.2841 18.9844C55.538 19.1071 55.8258 19.1685 56.1474 19.1685C56.5621 19.1685 56.9134 19.0838 57.2011 18.9146C57.4889 18.7453 57.7407 18.5189 57.9565 18.2354L58.6674 18.8003C58.5193 19.0246 58.331 19.2383 58.1025 19.4414C57.874 19.6445 57.5926 19.8096 57.2583 19.9365C56.9282 20.0635 56.5367 20.127 56.0839 20.127ZM64.9765 18.667V10.25H66.1572V20H65.0781L64.9765 18.667ZM60.3554 16.6421V16.5088C60.3554 15.984 60.4189 15.508 60.5458 15.0806C60.677 14.6489 60.8611 14.2786 61.0981 13.9697C61.3393 13.6608 61.6249 13.4238 61.955 13.2588C62.2893 13.0895 62.6617 13.0049 63.0722 13.0049C63.5038 13.0049 63.8805 13.0811 64.2021 13.2334C64.5279 13.3815 64.803 13.5994 65.0273 13.8872C65.2558 14.1707 65.4357 14.5135 65.5668 14.9155C65.698 15.3175 65.789 15.7725 65.8398 16.2803V16.8643C65.7932 17.3678 65.7023 17.8206 65.5668 18.2227C65.4357 18.6247 65.2558 18.9674 65.0273 19.251C64.803 19.5345 64.5279 19.7524 64.2021 19.9048C63.8762 20.0529 63.4954 20.127 63.0595 20.127C62.6575 20.127 62.2893 20.0402 61.955 19.8667C61.6249 19.6932 61.3393 19.4499 61.0981 19.1367C60.8611 18.8236 60.677 18.4554 60.5458 18.0322C60.4189 17.6048 60.3554 17.1414 60.3554 16.6421ZM61.5361 16.5088V16.6421C61.5361 16.9849 61.5699 17.3065 61.6376 17.6069C61.7096 17.9074 61.8196 18.1719 61.9677 18.4004C62.1158 18.6289 62.3041 18.8088 62.5327 18.9399C62.7612 19.0669 63.0341 19.1304 63.3515 19.1304C63.7408 19.1304 64.0603 19.0479 64.31 18.8828C64.5639 18.7178 64.767 18.4998 64.9194 18.229C65.0717 17.9582 65.1902 17.6641 65.2748 17.3467V15.8169C65.2241 15.5841 65.15 15.3599 65.0527 15.144C64.9596 14.924 64.8369 14.7293 64.6845 14.5601C64.5364 14.3866 64.3523 14.249 64.1323 14.1475C63.9164 14.0459 63.6604 13.9951 63.3642 13.9951C63.0426 13.9951 62.7654 14.0628 62.5327 14.1982C62.3041 14.3294 62.1158 14.5114 61.9677 14.7441C61.8196 14.9727 61.7096 15.2393 61.6376 15.5439C61.5699 15.8444 61.5361 16.166 61.5361 16.5088ZM69.6796 14.2109V20H68.5053V13.1318H69.6479L69.6796 14.2109ZM71.8251 13.0938L71.8188 14.1855C71.7214 14.1644 71.6283 14.1517 71.5395 14.1475C71.4548 14.139 71.3575 14.1348 71.2475 14.1348C70.9766 14.1348 70.7376 14.1771 70.5302 14.2617C70.3228 14.3464 70.1472 14.4648 70.0033 14.6172C69.8595 14.7695 69.7452 14.9515 69.6606 15.1631C69.5802 15.3704 69.5273 15.599 69.5019 15.8486L69.1718 16.0391C69.1718 15.6243 69.212 15.235 69.2924 14.8711C69.377 14.5072 69.5061 14.1855 69.6796 13.9062C69.8531 13.6227 70.0732 13.4027 70.3398 13.2461C70.6106 13.0853 70.9322 13.0049 71.3046 13.0049C71.3892 13.0049 71.4866 13.0155 71.5966 13.0366C71.7066 13.0535 71.7828 13.0726 71.8251 13.0938ZM74.7064 13.1318V20H73.5258V13.1318H74.7064ZM73.4369 11.3101C73.4369 11.1196 73.494 10.9588 73.6083 10.8276C73.7268 10.6965 73.9003 10.6309 74.1288 10.6309C74.3531 10.6309 74.5245 10.6965 74.643 10.8276C74.7657 10.9588 74.827 11.1196 74.827 11.3101C74.827 11.492 74.7657 11.6486 74.643 11.7798C74.5245 11.9067 74.3531 11.9702 74.1288 11.9702C73.9003 11.9702 73.7268 11.9067 73.6083 11.7798C73.494 11.6486 73.4369 11.492 73.4369 11.3101ZM78.2924 10.25V20H77.1117V10.25H78.2924ZM82.4882 13.1318L79.4921 16.3374L77.8163 18.0767L77.7211 16.8262L78.9208 15.3916L81.0536 13.1318H82.4882ZM81.4154 20L78.9652 16.7246L79.5746 15.6772L82.7992 20H81.4154ZM94.0145 19.0034V20H89.1204V19.0034H94.0145ZM89.368 10.7578V20H88.1429V10.7578H89.368ZM93.367 14.7314V15.728H89.1204V14.7314H93.367ZM93.951 10.7578V11.7607H89.1204V10.7578H93.951ZM97.0545 10.25V20H95.8738V10.25H97.0545ZM101.25 13.1318L98.2542 16.3374L96.5784 18.0767L96.4832 16.8262L97.6829 15.3916L99.8157 13.1318H101.25ZM100.178 20L97.7274 16.7246L98.3367 15.6772L101.561 20H100.178ZM104.157 10.25V20H102.983V10.25H104.157ZM103.878 16.3057L103.389 16.2866C103.393 15.8169 103.463 15.3831 103.598 14.9854C103.734 14.5833 103.924 14.2342 104.17 13.938C104.415 13.6418 104.707 13.4132 105.046 13.2524C105.388 13.0874 105.767 13.0049 106.182 13.0049C106.52 13.0049 106.825 13.0514 107.096 13.1445C107.367 13.2334 107.597 13.3773 107.788 13.5762C107.983 13.7751 108.131 14.0332 108.232 14.3506C108.334 14.6637 108.385 15.0467 108.385 15.4995V20H107.204V15.4868C107.204 15.1271 107.151 14.8394 107.045 14.6235C106.939 14.4035 106.785 14.2448 106.582 14.1475C106.379 14.0459 106.129 13.9951 105.833 13.9951C105.541 13.9951 105.274 14.0565 105.033 14.1792C104.796 14.3019 104.591 14.4712 104.417 14.687C104.248 14.9028 104.115 15.1504 104.017 15.4297C103.924 15.7048 103.878 15.9967 103.878 16.3057ZM110.352 16.6421V16.4961C110.352 16.001 110.424 15.5418 110.568 15.1187C110.712 14.6912 110.919 14.321 111.19 14.0078C111.461 13.6904 111.789 13.445 112.174 13.2715C112.559 13.0938 112.99 13.0049 113.469 13.0049C113.951 13.0049 114.385 13.0938 114.77 13.2715C115.159 13.445 115.489 13.6904 115.76 14.0078C116.035 14.321 116.245 14.6912 116.388 15.1187C116.532 15.5418 116.604 16.001 116.604 16.4961V16.6421C116.604 17.1372 116.532 17.5964 116.388 18.0195C116.245 18.4427 116.035 18.813 115.76 19.1304C115.489 19.4435 115.161 19.689 114.776 19.8667C114.395 20.0402 113.964 20.127 113.481 20.127C112.999 20.127 112.565 20.0402 112.18 19.8667C111.795 19.689 111.465 19.4435 111.19 19.1304C110.919 18.813 110.712 18.4427 110.568 18.0195C110.424 17.5964 110.352 17.1372 110.352 16.6421ZM111.526 16.4961V16.6421C111.526 16.9849 111.566 17.3086 111.647 17.6133C111.727 17.9137 111.848 18.1803 112.009 18.4131C112.174 18.6458 112.379 18.8299 112.624 18.9653C112.87 19.0965 113.155 19.1621 113.481 19.1621C113.803 19.1621 114.084 19.0965 114.325 18.9653C114.571 18.8299 114.774 18.6458 114.935 18.4131C115.096 18.1803 115.216 17.9137 115.297 17.6133C115.381 17.3086 115.424 16.9849 115.424 16.6421V16.4961C115.424 16.1576 115.381 15.8381 115.297 15.5376C115.216 15.2329 115.094 14.9642 114.928 14.7314C114.768 14.4945 114.565 14.3083 114.319 14.1729C114.078 14.0374 113.794 13.9697 113.469 13.9697C113.147 13.9697 112.863 14.0374 112.618 14.1729C112.377 14.3083 112.174 14.4945 112.009 14.7314C111.848 14.9642 111.727 15.2329 111.647 15.5376C111.566 15.8381 111.526 16.1576 111.526 16.4961ZM119.873 10.25V20H118.692V10.25H119.873ZM126.607 18.667V10.25H127.788V20H126.709L126.607 18.667ZM121.986 16.6421V16.5088C121.986 15.984 122.05 15.508 122.177 15.0806C122.308 14.6489 122.492 14.2786 122.729 13.9697C122.97 13.6608 123.256 13.4238 123.586 13.2588C123.92 13.0895 124.292 13.0049 124.703 13.0049C125.135 13.0049 125.511 13.0811 125.833 13.2334C126.159 13.3815 126.434 13.5994 126.658 13.8872C126.886 14.1707 127.066 14.5135 127.198 14.9155C127.329 15.3175 127.42 15.7725 127.47 16.2803V16.8643C127.424 17.3678 127.333 17.8206 127.198 18.2227C127.066 18.6247 126.886 18.9674 126.658 19.251C126.434 19.5345 126.159 19.7524 125.833 19.9048C125.507 20.0529 125.126 20.127 124.69 20.127C124.288 20.127 123.92 20.0402 123.586 19.8667C123.256 19.6932 122.97 19.4499 122.729 19.1367C122.492 18.8236 122.308 18.4554 122.177 18.0322C122.05 17.6048 121.986 17.1414 121.986 16.6421ZM123.167 16.5088V16.6421C123.167 16.9849 123.201 17.3065 123.268 17.6069C123.34 17.9074 123.45 18.1719 123.598 18.4004C123.746 18.6289 123.935 18.8088 124.163 18.9399C124.392 19.0669 124.665 19.1304 124.982 19.1304C125.371 19.1304 125.691 19.0479 125.941 18.8828C126.195 18.7178 126.398 18.4998 126.55 18.229C126.702 17.9582 126.821 17.6641 126.906 17.3467V15.8169C126.855 15.5841 126.781 15.3599 126.683 15.144C126.59 14.924 126.468 14.7293 126.315 14.5601C126.167 14.3866 125.983 14.249 125.763 14.1475C125.547 14.0459 125.291 13.9951 124.995 13.9951C124.673 13.9951 124.396 14.0628 124.163 14.1982C123.935 14.3294 123.746 14.5114 123.598 14.7441C123.45 14.9727 123.34 15.2393 123.268 15.5439C123.201 15.8444 123.167 16.166 123.167 16.5088ZM133.011 13.1318V14.0332H129.298V13.1318H133.011ZM130.555 11.4624H131.729V18.2988C131.729 18.5316 131.765 18.7072 131.837 18.8257C131.909 18.9442 132.002 19.0225 132.116 19.0605C132.231 19.0986 132.353 19.1177 132.485 19.1177C132.582 19.1177 132.683 19.1092 132.789 19.0923C132.899 19.0711 132.982 19.0542 133.037 19.0415L133.043 20C132.95 20.0296 132.827 20.0571 132.675 20.0825C132.527 20.1121 132.347 20.127 132.135 20.127C131.848 20.127 131.583 20.0698 131.342 19.9556C131.101 19.8413 130.908 19.6509 130.764 19.3843C130.625 19.1134 130.555 18.7495 130.555 18.2925V11.4624Z"
        fill="#FCFCFC"
      />
    </svg>
    <Button>Done</Button>
  </div>
</div>;
